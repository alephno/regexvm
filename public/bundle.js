!function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=1)}([function(r,e){var t={BRACKET:Symbol("BRACKET"),UNION:Symbol("UNION"),REP:Symbol("REP"),CHAR:Symbol("CHAR"),PLUS:Symbol("PLUS"),DOT:Symbol("DOT"),STAR:Symbol("STAR"),QUEST:Symbol("QUEST"),MARKED:Symbol("MARKED"),GROUP:Symbol("GROUP")};r.exports=t},function(r,e,t){var n=t(2),o=document.querySelector("#testInput"),u=document.querySelector("#patternInput"),a=document.querySelector(".input-backdrop"),c=document.querySelector(".input-highlights");function i(){var r=u.value;try{var e=n.re(r),t=o.value,a=e.execute(t);if(a.length>0){var i=function(r,e){if(0===e.length)return r;var t=[];t.push(r.slice(0,e[0][0]));for(var n=0;n<e.length;n++){var o=e[n];t.push("<mark>"+r.slice(o[0],o[1]+1)+"</mark>"),n+1<e.length&&t.push(r.slice(o[1]+1,e[n+1][0]))}return t.push(r.slice(e[e.length-1][1])),t.reduce((function(r,e){return r+e}),"")}(t,a);c.innerHTML=i}else c.innerHTML=""}catch(r){c.innerHTML=""}}function s(){var r=o.scrollTop;a.scrollTop=r;var e=o.scrollLeft;a.scrollLeft=e}o.addEventListener("input",i),u.addEventListener("input",i),o.addEventListener("scroll",s),i()},function(r,e,t){function n(r){return function(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}var u=t(3),a=t(0),c=t(4),i=function(){function r(e){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.regex=e,this._ast=[],this._prog=[]}var e,t,i;return e=r,i=[{key:"re",value:function(e){var t=new r(e);return t.parse(),t.compile(),t}}],(t=[{key:"parse",value:function(){this._ast=c.parse(this.regex)}},{key:"_countInstrRequired",value:function(r){var e=this;if(Array.isArray(r))return r.reduce((function(r,t){return r+e._countInstrRequired(t)}),0);switch(r.type){case a.CHAR:case a.DOT:case a.GROUP:return 1;case a.UNION:return this._countInstrRequired(r.left)+2+this._countInstrRequired(r.right);case a.QUEST:case a.PLUS:return this._countInstrRequired(r.term)+1;case a.STAR:return this._countInstrRequired(r.term)+2;case a.REP:var t=this._countInstrRequired(r.term);return""===r.max?t*(r.min+1)+2:t*r.min+(t+1)*(r.max-r.min);case a.MARKED:return this._countInstrRequired(r.term)+2;case a.BRACKET:return this._countInstrRequired(r.term);default:return 0}}},{key:"compile",value:function(){var r=this,e=0;!function t(n){if(Array.isArray(n))n.forEach(t);else switch(n.type){case a.CHAR:r._prog.push({op:u.CHAR,value:n.value});break;case a.DOT:r._prog.push({op:u.ANY});break;case a.UNION:var o=1+r._prog.length,c=2+r._prog.length+r._countInstrRequired(n.left);r._prog.push({op:u.SPLIT,left:o,right:c}),t(n.left);var i=1+r._prog.length+r._countInstrRequired(n.right);r._prog.push({op:u.JUMP,addr:i}),t(n.right);break;case a.PLUS:var s=r._prog.length;t(n.term);var l=r._prog.length+1;r._prog.push({op:u.SPLIT,left:s,right:l});break;case a.STAR:var f=r._prog.length,p=f+1,h=p+r._countInstrRequired(n.term)+1;r._prog.push({op:u.SPLIT,left:p,right:h}),t(n.term),r._prog.push({op:u.JUMP,addr:f});break;case a.QUEST:var g=r._prog.length+1,d=g+r._countInstrRequired(n.term);r._prog.push({op:u.SPLIT,left:g,right:d}),t(n.term);break;case a.REP:for(var A=r._countInstrRequired(n),y=0;y<n.min;y++)t(n.term);for(var m=0;m<n.max-n.min;m++){var v=r._prog.length+1;r._prog.push({op:u.SPLIT,left:v,right:A}),t(n.term)}break;case a.MARKED:var b=e;r._prog.push({op:u.START_CAPTURE,index:b}),e++,t(n.term),r._prog.push({op:u.END_CAPTURE,index:b});break;case a.BRACKET:t(n.term);break;case a.GROUP:r._prog.push({op:u.GROUP,index:+n.index});break;default:throw new Error("Unsupported structure found in ast, ".concat(n.type))}}(this._ast),this._prog.push({op:u.MATCH})}},{key:"execute",value:function(r){for(var e=[],t=0;t<r.length;t++){var n=this._threadedMachine(r,t);n.end>-1&&(e.push([t,n.end]),t=t>n.end?t:n.end)}return e}},{key:"_threadedMachine",value:function(r,e){var t=[];for(t.push({pc:0,sp:e,groups:[]});t.length>0;)for(var o=t.pop(),a=o.pc,c=o.sp,i=o.groups,s=!1;!s&&c<r.length;){var l=this._prog[a];switch(l.op){case u.MATCH:return{end:c-1,captures:i};case u.CHAR:if(r.charAt(c)!==l.value){s=!0;break}a++,c++;break;case u.ANY:if("\n"===r.charAt(c)){s=!0;break}a++,c++;break;case u.JUMP:a=l.addr;break;case u.SPLIT:t.push({pc:l.right,sp:c,groups:n(i)}),a=l.left;break;case u.START_CAPTURE:i[l.index]=[c],a++;break;case u.END_CAPTURE:i[l.index].push(c),a++;break;case u.GROUP:var f=r.slice(i[l.index-1][0],i[l.index-1][1]);r.slice(c,c+f.length)===f?(c+=f.length,a++):s=!0}}return{end:-1,captures:null}}}])&&o(e.prototype,t),i&&o(e,i),r}();r.exports=i},function(r,e){var t={CHAR:Symbol("CHAR"),SPLIT:Symbol("SPLIT"),JUMP:Symbol("JUMP"),ANY:Symbol("ANY"),START_CAPTURE:Symbol("STARTCAPTURE"),END_CAPTURE:Symbol("ENDCAPTURE"),GROUP:Symbol("GROUP"),MATCH:Symbol("MATCH")};r.exports=t},function(r,e,t){"use strict";function n(r){return function(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(r,e,t,n){this.message=r,this.expected=e,this.found=t,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,o)}!function(r,e){function t(){this.constructor=r}t.prototype=e.prototype,r.prototype=new t}(o,Error),o.buildMessage=function(r,e){var t={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var e,t="";for(e=0;e<r.parts.length;e++)t+=r.parts[e]instanceof Array?u(r.parts[e][0])+"-"+u(r.parts[e][1]):u(r.parts[e]);return"["+(r.inverted?"^":"")+t+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function u(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}return"Expected "+function(r){var e,n,o,u=new Array(r.length);for(e=0;e<r.length;e++)u[e]=(o=r[e],t[o.type](o));if(u.sort(),u.length>0){for(e=1,n=1;e<u.length;e++)u[e-1]!==u[e]&&(u[n]=u[e],n++);u.length=n}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(e)+" found."},r.exports={SyntaxError:o,parse:function(r,e){e=void 0!==e?e:{};var u,a={},c={start:xr},i=xr,s="|",l=br("|",!1),f=function(r,e){return{type:wr.UNION,left:r,right:e}},p=function(r){return r},h="+",g=br("+",!1),d=function(r){return{type:wr.PLUS,term:r}},A="*",y=br("*",!1),m=function(r){return{type:wr.STAR,term:r}},v="?",b=br("?",!1),R=function(r){return{type:wr.QUEST,term:r}},S=function(r){return r},T="{",C=br("{",!1),_=/^[0123456789]/,x=Rr(["0","1","2","3","4","5","6","7","8","9"],!1,!1),E=",",P=br(",",!1),U="}",I=br("}",!1),O=function(r,e,t){return t&&e>t&&vr("min cannot be larger than max in {".concat(e,",").concat(t,"}")),{type:wr.REP,term:r,min:e,max:t}},k=function(r,e){return{type:wr.REP,term:r,min:e,max:e}},w="[",M=br("[",!1),L="]",N=br("]",!1),H=function(r){return{type:wr.BRACKET,term:Mr(r.flat())}},q=function(r){return r},j=/^[^\-]/,D=Rr(["-"],!0,!1),K="-",G=br("-",!1),F=/^[^\-\]]/,B=Rr(["-","]"],!0,!1),J=function(r,e){if(!(r>e)){if(r===e)return{type:wr.CHAR,value:r};var t=r.charCodeAt(0),o=e.charCodeAt(0);return n(Array(o-t+1).keys()).map((function(r){return String.fromCharCode(r+t)})).map((function(r){return{type:wr.CHAR,value:r}}))}vr("start must be less than end in range {".concat(r,", ").concat(e,"}"))},Q=/^[^\]]/,Y=Rr(["]"],!0,!1),$=function(r){return{type:wr.CHAR,value:r}},z="(",V=br("(",!1),W=")",X=br(")",!1),Z=function(r){return{type:wr.MARKED,term:r}},rr=".",er=br(".",!1),tr=function(){return{type:wr.DOT}},nr=/^[^\^[$.|?*+()[]/,or=Rr(["^","[","$",".","|","?","*","+","(",")","["],!0,!1),ur="\\",ar=br("\\",!1),cr=/^[1-9]/,ir=Rr([["1","9"]],!1,!1),sr=function(r){return{type:wr.GROUP,index:r}},lr=/^[^1-9]/,fr=Rr([["1","9"]],!0,!1),pr=function(r){return{type:wr.CHAR,value:r}},hr=0,gr=0,dr=[{line:1,column:1}],Ar=0,yr=[],mr=0;if("startRule"in e){if(!(e.startRule in c))throw new Error("Can't start parsing from rule \""+e.startRule+'".');i=c[e.startRule]}function vr(r,e){throw function(r,e){return new o(r,null,null,e)}(r,e=void 0!==e?e:Tr(gr,hr))}function br(r,e){return{type:"literal",text:r,ignoreCase:e}}function Rr(r,e,t){return{type:"class",parts:r,inverted:e,ignoreCase:t}}function Sr(e){var t,n=dr[e];if(n)return n;for(t=e-1;!dr[t];)t--;for(n={line:(n=dr[t]).line,column:n.column};t<e;)10===r.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;return dr[e]=n,n}function Tr(r,e){var t=Sr(r),n=Sr(e);return{start:{offset:r,line:t.line,column:t.column},end:{offset:e,line:n.line,column:n.column}}}function Cr(r){hr<Ar||(hr>Ar&&(Ar=hr,yr=[]),yr.push(r))}function _r(r,e,t){return new o(o.buildMessage(r,e),r,e,t)}function xr(){var r,e;if(r=[],(e=Er())!==a)for(;e!==a;)r.push(e),e=Er();else r=a;return r}function Er(){var e,t,n,o,u;if(e=hr,t=[],(n=Pr())!==a)for(;n!==a;)t.push(n),n=Pr();else t=a;if(t!==a)if(124===r.charCodeAt(hr)?(n=s,hr++):(n=a,0===mr&&Cr(l)),n!==a){for(o=[],u=Er();u!==a;)o.push(u),u=Er();o!==a?(gr=e,e=t=f(t,o)):(hr=e,e=a)}else hr=e,e=a;else hr=e,e=a;return e===a&&(e=hr,(t=Pr())!==a&&(gr=e,t=p(t)),e=t),e}function Pr(){var e,t,n;return e=hr,(t=Ur())!==a?(43===r.charCodeAt(hr)?(n=h,hr++):(n=a,0===mr&&Cr(g)),n!==a?(gr=e,e=t=d(t)):(hr=e,e=a)):(hr=e,e=a),e===a&&(e=hr,(t=Ur())!==a?(42===r.charCodeAt(hr)?(n=A,hr++):(n=a,0===mr&&Cr(y)),n!==a?(gr=e,e=t=m(t)):(hr=e,e=a)):(hr=e,e=a),e===a&&(e=hr,(t=Ur())!==a?(63===r.charCodeAt(hr)?(n=v,hr++):(n=a,0===mr&&Cr(b)),n!==a?(gr=e,e=t=R(t)):(hr=e,e=a)):(hr=e,e=a),e===a&&(e=hr,(t=Ur())!==a&&(gr=e,t=S(t)),e=t))),e}function Ur(){var e,t,n,o,u,c,i,s;if(e=hr,(t=Ir())!==a)if(123===r.charCodeAt(hr)?(n=T,hr++):(n=a,0===mr&&Cr(C)),n!==a){if(o=hr,u=[],_.test(r.charAt(hr))?(c=r.charAt(hr),hr++):(c=a,0===mr&&Cr(x)),c!==a)for(;c!==a;)u.push(c),_.test(r.charAt(hr))?(c=r.charAt(hr),hr++):(c=a,0===mr&&Cr(x));else u=a;if((o=u!==a?r.substring(o,hr):u)!==a)if(44===r.charCodeAt(hr)?(u=E,hr++):(u=a,0===mr&&Cr(P)),u!==a){for(c=hr,i=[],_.test(r.charAt(hr))?(s=r.charAt(hr),hr++):(s=a,0===mr&&Cr(x));s!==a;)i.push(s),_.test(r.charAt(hr))?(s=r.charAt(hr),hr++):(s=a,0===mr&&Cr(x));(c=i!==a?r.substring(c,hr):i)!==a?(125===r.charCodeAt(hr)?(i=U,hr++):(i=a,0===mr&&Cr(I)),i!==a?(gr=e,e=t=O(t,o,c)):(hr=e,e=a)):(hr=e,e=a)}else hr=e,e=a;else hr=e,e=a}else hr=e,e=a;else hr=e,e=a;if(e===a){if(e=hr,(t=Ir())!==a)if(123===r.charCodeAt(hr)?(n=T,hr++):(n=a,0===mr&&Cr(C)),n!==a){if(o=hr,u=[],_.test(r.charAt(hr))?(c=r.charAt(hr),hr++):(c=a,0===mr&&Cr(x)),c!==a)for(;c!==a;)u.push(c),_.test(r.charAt(hr))?(c=r.charAt(hr),hr++):(c=a,0===mr&&Cr(x));else u=a;(o=u!==a?r.substring(o,hr):u)!==a?(125===r.charCodeAt(hr)?(u=U,hr++):(u=a,0===mr&&Cr(I)),u!==a?(gr=e,e=t=k(t,o)):(hr=e,e=a)):(hr=e,e=a)}else hr=e,e=a;else hr=e,e=a;e===a&&(e=Ir())}return e}function Ir(){var e,t,n,o;if(e=hr,91===r.charCodeAt(hr)?(t=w,hr++):(t=a,0===mr&&Cr(M)),t!==a){for(n=[],o=Or();o!==a;)n.push(o),o=Or();n!==a?(93===r.charCodeAt(hr)?(o=L,hr++):(o=a,0===mr&&Cr(N)),o!==a?(gr=e,e=t=H(n)):(hr=e,e=a)):(hr=e,e=a)}else hr=e,e=a;return e===a&&(e=hr,(t=function(){var e,t,n,o;if((e=kr())===a){if(e=hr,40===r.charCodeAt(hr)?(t=z,hr++):(t=a,0===mr&&Cr(V)),t!==a){if(n=[],(o=Er())!==a)for(;o!==a;)n.push(o),o=Er();else n=a;n!==a?(41===r.charCodeAt(hr)?(o=W,hr++):(o=a,0===mr&&Cr(X)),o!==a?(gr=e,t=Z(n),e=t):(hr=e,e=a)):(hr=e,e=a)}else hr=e,e=a;e===a&&(e=hr,46===r.charCodeAt(hr)?(t=rr,hr++):(t=a,0===mr&&Cr(er)),t!==a&&(gr=e,t=tr()),(e=t)===a&&(e=function(){var e,t;e=hr,nr.test(r.charAt(hr))?(t=r.charAt(hr),hr++):(t=a,0===mr&&Cr(or));t!==a&&(gr=e,t=$(t));return e=t}()))}return e}())!==a&&(gr=e,t=q(t)),e=t),e}function Or(){var e,t,n,o;return e=hr,j.test(r.charAt(hr))?(t=r.charAt(hr),hr++):(t=a,0===mr&&Cr(D)),t!==a?(45===r.charCodeAt(hr)?(n=K,hr++):(n=a,0===mr&&Cr(G)),n!==a?(F.test(r.charAt(hr))?(o=r.charAt(hr),hr++):(o=a,0===mr&&Cr(B)),o!==a?(gr=e,e=t=J(t,o)):(hr=e,e=a)):(hr=e,e=a)):(hr=e,e=a),e===a&&(e=kr())===a&&(e=hr,Q.test(r.charAt(hr))?(t=r.charAt(hr),hr++):(t=a,0===mr&&Cr(Y)),t!==a&&(gr=e,t=$(t)),e=t),e}function kr(){var e,t,n;return e=hr,92===r.charCodeAt(hr)?(t=ur,hr++):(t=a,0===mr&&Cr(ar)),t!==a?(cr.test(r.charAt(hr))?(n=r.charAt(hr),hr++):(n=a,0===mr&&Cr(ir)),n!==a?(gr=e,e=t=sr(n)):(hr=e,e=a)):(hr=e,e=a),e===a&&(e=hr,92===r.charCodeAt(hr)?(t=ur,hr++):(t=a,0===mr&&Cr(ar)),t!==a?(lr.test(r.charAt(hr))?(n=r.charAt(hr),hr++):(n=a,0===mr&&Cr(fr)),n!==a?(gr=e,e=t=pr(n)):(hr=e,e=a)):(hr=e,e=a)),e}var wr=t(0),Mr=function r(e){return 1===e.length?e[0]:{type:wr.UNION,left:e[0],right:r(e.slice(1))}};if((u=i())!==a&&hr===r.length)return u;throw u!==a&&hr<r.length&&Cr({type:"end"}),_r(yr,Ar<r.length?r.charAt(Ar):null,Ar<r.length?Tr(Ar,Ar+1):Tr(Ar,Ar))}}}]);